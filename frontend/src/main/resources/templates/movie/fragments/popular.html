<section th:fragment="popular" class="popular-section bg-black py-12">
  <div class="container mx-auto px-4">
    <h3 class="text-3xl font-bold text-white text-center mb-8">PEL√çCULAS POPULARES</h3>
    
    <div class="popular-slider overflow-x-auto whitespace-nowrap scroll-smooth">
      <div class="inline-flex space-x-6">
        <div th:each="movie : ${popularMovies}" 
             class="movie-card inline-block w-64 bg-gray-900 rounded-lg overflow-hidden shadow-lg transform transition duration-300 hover:scale-105 hover:shadow-2xl relative group">
          <div class="relative overflow-hidden">
            <img th:src="${movie.posterUrl}" th:alt="${movie.title}" 
                 class="w-full h-[400px] object-cover transition-transform duration-300 group-hover:scale-110">
            
            <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-70 transition-opacity duration-300 flex items-center justify-center">
              <a th:href="@{/movies-descriptions/{movieId}(movieId=${movie.id})}" 
                 class="buy-button bg-white text-black px-6 py-3 rounded-full font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-blue-500 hover:text-white">
                Comprar
              </a>
            </div>
          </div>
          
          <div class="p-4">
            <h4 th:text="${movie.title}" class="text-white font-bold text-xl mb-2 truncate"></h4>
            <div class="flex justify-between items-center">
              <span th:text="${movie.genre}" class="text-gray-400 text-sm"></span>
              <span th:text="'S/ ' + ${#numbers.formatDecimal(movie.price, 1, 2)}" 
                    class="text-green-500 font-bold"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .popular-slider::-webkit-scrollbar {
    display: none;
  }
  .movie-card .buy-button {
    transform: translateY(20px);
    transition: transform 0.3s ease;
  }
  .movie-card:hover .buy-button {
    transform: translateY(0);
  }
</style>
